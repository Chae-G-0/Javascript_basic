<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체 01 - 개발자 객체 만들기</title>
</head>

<body>
    <div id="App">객체 만들기</div>
    <div id="This">객체 만들기</div>


    <script>

        // 1. 객체 리터럴 표기법을 이용한 객체의 생성

        const 채가 = {
            name: '채가',
            age: 27,
        }

        console.log(채가.name + ` 배고파`);

        // 2. 객체 생성자함수를 이용한 객체의 생성

        const chae = new Object();
        chae.name = 'chae';
        chae.age = 27;

        console.log(chae);

        // 3. 객체의 메소드 : 객체는 속성 (property)과 함수(method)를 가진다. property (key: value)

        const 밥밥 = {
            name: '밥밥',
            하는일: function () {
                console.log(`오늘은 ${밥밥.name} 뭘 먹지`)
            }
        }

        console.log(밥밥['name'], 밥밥.name);

        밥밥.하는일();

        // 4. 객체에서의 this = 객체 자신을 가리킨다
        // `${this.name}과 함께 공부하기` = ` this.name + `과 함께 공부하기

        const 점심 = {
            name: '점심',
            age: 1300,
            하는일: function () {
                console.log(`${this.name} 맛있게 먹기`)
            }
        }

        점심.하는일();

        // 5. 객체의 메소드로 () => 화살표 함수를 쓰면 this는 ?

        const 연어 = {
            name: '연어',
            age: 1300,
            하는일: () => {
                console.log(`${연어.name}와 함께 점심먹기`)
            }
        }

        연어.하는일();

        // 6. 객체 안 일반적인 함수(무명)에서의 this 바인딩

        const 새우 = {
            name: '맛있음',
            job: function () {
                console.log(this)
                setInterval(() => {
                    console.log(this.name + '새우튀김') // 여기서 가리키는 this는 아무일 안하는 function, window 무명함수에 화살표함수 스면 해결
                }, 1000)
            }
        }

        새우.job();

        // etc. 이벤트리스너에서의 this
        // id는 바로 선택이 가능지만 권장하는 방법이 아니다.
        // App, document.querySelector('#App'), document.getElementById('App')

        App.addEventListener('click', function () {
            console.log(this) // 이벤트리스너 function에서의 this는 App
        })

        This.addEventListener('click', () => {
            console.log(this) // 화살표 함수에서의 this는 window;
        })

        console.log(this) // this는 window;

    </script>
</body>

</html>